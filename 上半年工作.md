### 上半年工作

#### 业务上云

引擎 @孔飞

网约车 @潘培龙

#### 基础架构

- k8s各模块hack部分代码拆分，拆到kube-hook，**年前已经有功能已完成拆分，年后新增功能还是以hack的形式实现**，下半年重点完成拆分，**此工作为k8s集群升级的前置工作**  **Kubernetes、kube-hook**
- 原地升级支持（原地升级保证存量容器不重启、最大重启次数适配、readiness probe适配） **kubelet**
- agent迁出容器
- 资源利用率优化
  - 实际使用率及时添加、删除 **resource-reporter、kube-rock**
  - 统一配置中心 **kube-galahad**
  - 调度策略&均衡策略优化方案梳理 **kube-scheduler**
- ipvlan、evpn网络适配 **ipam、kube-scheduler**
- 上云需求开发
  - redis、fusion调度策略支持 **kube-scheduler**
  - 漂移不回到原宿主的能力支持 **ipam**
  - 容器删除后数据卷目录move支持 **resource-daemon**
  - sidecar支持 **kubelet**
  - fusion cgroup层级定制 **kubelet配置**
  - 基础架构剩余容量展示 **ddcloud-admin**
- serverless平台搭建
  - knative集群搭建 

### 问题总结

- 技术
  - 周五代码分享：每个人分享自己所负责组件的源码
  - cr机制 至少2个lgtm
  - 方案评审机制：内部评审详细方案，技术细节相关；外部进行流程性质的方案评审
  - 涉及较大改动的需求需要出具详细方案，进行内部评审，方便内部了解相关细节，降低后续沟通成本
- 规范
  - 涉及到对应组件改动，无论代码还是配置，均需要通知到对应负责人，避免自己的修改被覆盖的风险，同时也可以让对应的负责人进行评估，提升稳定性和可维护性。
- 需求管理
  - 需求统一收集到lean，包括开发需求和问题排查需求，方便进行统一管理，直接找人提的需求通知到 @李鹤（拉上开会或者lean上直接@，避免只有自己知道别人不知道的情况）
  - 管理员平台：除数据外其他功能交给运维相关同学
  - 对其他需求有依赖时，依赖项进展缓慢的话，内部依赖及时催促，外部依赖及时找各位领导沟通
- 各组件权责分明

### 下半年计划

#### 业务上云

引擎 @孔飞

网约车 @潘培龙

#### 基础架构

- 上云需求
  - 磁盘改配 **resource-daemon** 
  - zk 调度策略支持
  - ...
- auto scale
  - hpa 水平自动扩缩容 （容器实例数）
  - vpa（原地改配） 内存、cpu、磁盘原地改配 **k8s**
- 统一配置中心 **Galahad**
- 资源利用率优化
  - 调度策略&均衡策略调整优化 **kube-scheduler**
  - serverless集群与弹性云融合
- 性能优化，支持更大规模集群  **k8s**
- k8s升级 **此项工作为serverless集群和弹性云融合的前置工作**